<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: ch5_flow Pages: 1 -->
<svg width="1691pt" height="886pt"
 viewBox="0.00 0.00 1691.00 886.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 882)">
<title>ch5_flow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-882 1687,-882 1687,4 -4,4"/>
<text text-anchor="middle" x="841.5" y="-859.6" font-family="Helvetica,sans-Serif" font-size="18.00">Chapter 5 (Fingerprinting) — Clean Execution Map</text>
<g id="clust1" class="cluster">
<title>cluster_entry</title>
<polygon fill="none" stroke="#bbbbbb" points="795,-689 795,-842 1087,-842 1087,-689 795,-689"/>
<text text-anchor="middle" x="941" y="-823.6" font-family="Helvetica,sans-Serif" font-size="18.00">Entry</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_det</title>
<polygon fill="none" stroke="#bbbbbb" points="8,-180 8,-670 276,-670 276,-180 8,-180"/>
<text text-anchor="middle" x="142" y="-651.6" font-family="Helvetica,sans-Serif" font-size="18.00">example_deterministic.py</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_prob</title>
<polygon fill="none" stroke="#bbbbbb" points="290,-8 290,-670 552,-670 552,-8 290,-8"/>
<text text-anchor="middle" x="421" y="-651.6" font-family="Helvetica,sans-Serif" font-size="18.00">example_probabilistic.py</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_pr</title>
<polygon fill="none" stroke="#bbbbbb" points="1369,-185.5 1369,-670 1675,-670 1675,-185.5 1369,-185.5"/>
<text text-anchor="middle" x="1522" y="-651.6" font-family="Helvetica,sans-Serif" font-size="18.00">example_pattern_recognition.py</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_cls</title>
<polygon fill="none" stroke="#bbbbbb" points="1093,-180 1093,-670 1361,-670 1361,-180 1093,-180"/>
<text text-anchor="middle" x="1227" y="-651.6" font-family="Helvetica,sans-Serif" font-size="18.00">example_classification.py</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_cmp</title>
<polygon fill="none" stroke="#bbbbbb" points="815,-185.5 815,-670 1085,-670 1085,-185.5 815,-185.5"/>
<text text-anchor="middle" x="950" y="-651.6" font-family="Helvetica,sans-Serif" font-size="18.00">example_comparison.py</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_shared</title>
<polygon fill="none" stroke="#bbbbbb" points="560,-154 560,-297 807,-297 807,-154 560,-154"/>
<text text-anchor="middle" x="683.5" y="-278.6" font-family="Helvetica,sans-Serif" font-size="18.00">Shared reusable modules</text>
</g>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<path fill="none" stroke="black" d="M1066.5,-806C1066.5,-806 815.5,-806 815.5,-806 809.5,-806 803.5,-800 803.5,-794 803.5,-794 803.5,-782 803.5,-782 803.5,-776 809.5,-770 815.5,-770 815.5,-770 1066.5,-770 1066.5,-770 1072.5,-770 1078.5,-776 1078.5,-782 1078.5,-782 1078.5,-794 1078.5,-794 1078.5,-800 1072.5,-806 1066.5,-806"/>
<text text-anchor="middle" x="941" y="-791.4" font-family="Helvetica,sans-Serif" font-size="12.00">Run one example:</text>
<text text-anchor="middle" x="941" y="-778.4" font-family="Helvetica,sans-Serif" font-size="12.00">python ch5_fingerprinting/&lt;example_*.py&gt;</text>
</g>
<!-- pick -->
<g id="node2" class="node">
<title>pick</title>
<path fill="none" stroke="black" d="M929.27,-730.48C929.27,-730.48 869.08,-717.52 869.08,-717.52 863.22,-716.26 863.22,-713.74 869.08,-712.48 869.08,-712.48 929.27,-699.52 929.27,-699.52 935.13,-698.26 946.87,-698.26 952.73,-699.52 952.73,-699.52 1012.92,-712.48 1012.92,-712.48 1018.78,-713.74 1018.78,-716.26 1012.92,-717.52 1012.92,-717.52 952.73,-730.48 952.73,-730.48 946.87,-731.74 935.13,-731.74 929.27,-730.48"/>
<text text-anchor="middle" x="941" y="-711.9" font-family="Helvetica,sans-Serif" font-size="12.00">Which script?</text>
</g>
<!-- run&#45;&gt;pick -->
<g id="edge1" class="edge">
<title>run&#45;&gt;pick</title>
<path fill="none" stroke="black" d="M941,-769.81C941,-761.79 941,-752.05 941,-743.07"/>
<polygon fill="black" stroke="black" points="944.5,-743.03 941,-733.03 937.5,-743.03 944.5,-743.03"/>
</g>
<!-- d1 -->
<g id="node3" class="node">
<title>d1</title>
<path fill="none" stroke="black" d="M256,-634C256,-634 62,-634 62,-634 56,-634 50,-628 50,-622 50,-622 50,-610 50,-610 50,-604 56,-598 62,-598 62,-598 256,-598 256,-598 262,-598 268,-604 268,-610 268,-610 268,-622 268,-622 268,-628 262,-634 256,-634"/>
<text text-anchor="middle" x="159" y="-619.4" font-family="Helvetica,sans-Serif" font-size="12.00">Load fingerprint DB:</text>
<text text-anchor="middle" x="159" y="-606.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch5_wifi_fingerprint_grid (default)</text>
</g>
<!-- pick&#45;&gt;d1 -->
<g id="edge24" class="edge">
<title>pick&#45;&gt;d1</title>
<path fill="none" stroke="black" d="M870.35,-712.17C724.66,-707.93 395.34,-695.74 286,-670 256.44,-663.04 224.92,-649.92 200.67,-638.48"/>
<polygon fill="black" stroke="black" points="201.95,-635.21 191.43,-634.03 198.92,-641.52 201.95,-635.21"/>
</g>
<!-- p1 -->
<g id="node8" class="node">
<title>p1</title>
<path fill="none" stroke="black" d="M532,-634C532,-634 338,-634 338,-634 332,-634 326,-628 326,-622 326,-622 326,-610 326,-610 326,-604 332,-598 338,-598 338,-598 532,-598 532,-598 538,-598 544,-604 544,-610 544,-610 544,-622 544,-622 544,-628 538,-634 532,-634"/>
<text text-anchor="middle" x="435" y="-619.4" font-family="Helvetica,sans-Serif" font-size="12.00">Load fingerprint DB:</text>
<text text-anchor="middle" x="435" y="-606.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch5_wifi_fingerprint_grid (default)</text>
</g>
<!-- pick&#45;&gt;p1 -->
<g id="edge25" class="edge">
<title>pick&#45;&gt;p1</title>
<path fill="none" stroke="black" d="M899.16,-705.98C819.64,-690.73 644.71,-657.2 533.77,-635.93"/>
<polygon fill="black" stroke="black" points="534.38,-632.49 523.9,-634.04 533.06,-639.36 534.38,-632.49"/>
</g>
<!-- r1 -->
<g id="node15" class="node">
<title>r1</title>
<path fill="none" stroke="black" d="M1583,-634C1583,-634 1389,-634 1389,-634 1383,-634 1377,-628 1377,-622 1377,-622 1377,-610 1377,-610 1377,-604 1383,-598 1389,-598 1389,-598 1583,-598 1583,-598 1589,-598 1595,-604 1595,-610 1595,-610 1595,-622 1595,-622 1595,-628 1589,-634 1583,-634"/>
<text text-anchor="middle" x="1486" y="-619.4" font-family="Helvetica,sans-Serif" font-size="12.00">Load fingerprint DB:</text>
<text text-anchor="middle" x="1486" y="-606.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch5_wifi_fingerprint_grid (default)</text>
</g>
<!-- pick&#45;&gt;r1 -->
<g id="edge26" class="edge">
<title>pick&#45;&gt;r1</title>
<path fill="none" stroke="black" d="M1016.16,-713.17C1101.91,-710.63 1245.68,-701.5 1365,-670 1392.77,-662.67 1422.33,-649.82 1445.28,-638.62"/>
<polygon fill="black" stroke="black" points="1446.97,-641.68 1454.37,-634.1 1443.86,-635.42 1446.97,-641.68"/>
</g>
<!-- c1 -->
<g id="node20" class="node">
<title>c1</title>
<path fill="none" stroke="black" d="M1290.5,-634C1290.5,-634 1113.5,-634 1113.5,-634 1107.5,-634 1101.5,-628 1101.5,-622 1101.5,-622 1101.5,-610 1101.5,-610 1101.5,-604 1107.5,-598 1113.5,-598 1113.5,-598 1290.5,-598 1290.5,-598 1296.5,-598 1302.5,-604 1302.5,-610 1302.5,-610 1302.5,-622 1302.5,-622 1302.5,-628 1296.5,-634 1290.5,-634"/>
<text text-anchor="middle" x="1202" y="-619.4" font-family="Helvetica,sans-Serif" font-size="12.00">Create synthetic multi&#45;floor DB</text>
<text text-anchor="middle" x="1202" y="-606.4" font-family="Helvetica,sans-Serif" font-size="12.00">(3 floors, multiple APs)</text>
</g>
<!-- pick&#45;&gt;c1 -->
<g id="edge27" class="edge">
<title>pick&#45;&gt;c1</title>
<path fill="none" stroke="black" d="M977.39,-704.81C1007.66,-696.78 1051.67,-684.21 1089,-670 1112.99,-660.87 1138.98,-648.84 1159.97,-638.55"/>
<polygon fill="black" stroke="black" points="1161.53,-641.68 1168.94,-634.11 1158.43,-635.41 1161.53,-641.68"/>
</g>
<!-- m1 -->
<g id="node25" class="node">
<title>m1</title>
<path fill="none" stroke="black" d="M1038,-634C1038,-634 844,-634 844,-634 838,-634 832,-628 832,-622 832,-622 832,-610 832,-610 832,-604 838,-598 844,-598 844,-598 1038,-598 1038,-598 1044,-598 1050,-604 1050,-610 1050,-610 1050,-622 1050,-622 1050,-628 1044,-634 1038,-634"/>
<text text-anchor="middle" x="941" y="-619.4" font-family="Helvetica,sans-Serif" font-size="12.00">Load fingerprint DB:</text>
<text text-anchor="middle" x="941" y="-606.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch5_wifi_fingerprint_grid (default)</text>
</g>
<!-- pick&#45;&gt;m1 -->
<g id="edge28" class="edge">
<title>pick&#45;&gt;m1</title>
<path fill="none" stroke="black" d="M941,-696.66C941,-682.18 941,-661.26 941,-644.5"/>
<polygon fill="black" stroke="black" points="944.5,-644.19 941,-634.19 937.5,-644.19 944.5,-644.19"/>
</g>
<!-- d2 -->
<g id="node4" class="node">
<title>d2</title>
<path fill="none" stroke="black" d="M243.5,-561C243.5,-561 74.5,-561 74.5,-561 68.5,-561 62.5,-555 62.5,-549 62.5,-549 62.5,-537 62.5,-537 62.5,-531 68.5,-525 74.5,-525 74.5,-525 243.5,-525 243.5,-525 249.5,-525 255.5,-531 255.5,-537 255.5,-537 255.5,-549 255.5,-549 255.5,-555 249.5,-561 243.5,-561"/>
<text text-anchor="middle" x="159" y="-546.4" font-family="Helvetica,sans-Serif" font-size="12.00">Generate test queries:</text>
<text text-anchor="middle" x="159" y="-533.4" font-family="Helvetica,sans-Serif" font-size="12.00">choose floor + add RSS noise</text>
</g>
<!-- d1&#45;&gt;d2 -->
<g id="edge2" class="edge">
<title>d1&#45;&gt;d2</title>
<path fill="none" stroke="black" d="M159,-597.81C159,-589.79 159,-580.05 159,-571.07"/>
<polygon fill="black" stroke="black" points="162.5,-571.03 159,-561.03 155.5,-571.03 162.5,-571.03"/>
</g>
<!-- d3 -->
<g id="node5" class="node">
<title>d3</title>
<path fill="none" stroke="black" d="M232,-481.5C232,-481.5 86,-481.5 86,-481.5 80,-481.5 74,-475.5 74,-469.5 74,-469.5 74,-446.5 74,-446.5 74,-440.5 80,-434.5 86,-434.5 86,-434.5 232,-434.5 232,-434.5 238,-434.5 244,-440.5 244,-446.5 244,-446.5 244,-469.5 244,-469.5 244,-475.5 238,-481.5 232,-481.5"/>
<text text-anchor="middle" x="159" y="-467.9" font-family="Helvetica,sans-Serif" font-size="12.00">Deterministic localization:</text>
<text text-anchor="middle" x="159" y="-454.9" font-family="Helvetica,sans-Serif" font-size="12.00">NN (Eq. 5.1)</text>
<text text-anchor="middle" x="159" y="-441.9" font-family="Helvetica,sans-Serif" font-size="12.00">k&#45;NN (Eq. 5.2)</text>
</g>
<!-- d2&#45;&gt;d3 -->
<g id="edge3" class="edge">
<title>d2&#45;&gt;d3</title>
<path fill="none" stroke="black" d="M159,-524.8C159,-515.2 159,-502.93 159,-491.59"/>
<polygon fill="black" stroke="black" points="162.5,-491.54 159,-481.54 155.5,-491.54 162.5,-491.54"/>
</g>
<!-- d4 -->
<g id="node6" class="node">
<title>d4</title>
<path fill="none" stroke="black" d="M210.5,-375.5C210.5,-375.5 59.5,-375.5 59.5,-375.5 53.5,-375.5 47.5,-369.5 47.5,-363.5 47.5,-363.5 47.5,-351.5 47.5,-351.5 47.5,-345.5 53.5,-339.5 59.5,-339.5 59.5,-339.5 210.5,-339.5 210.5,-339.5 216.5,-339.5 222.5,-345.5 222.5,-351.5 222.5,-351.5 222.5,-363.5 222.5,-363.5 222.5,-369.5 216.5,-375.5 210.5,-375.5"/>
<text text-anchor="middle" x="135" y="-360.9" font-family="Helvetica,sans-Serif" font-size="12.00">Compute errors + runtime</text>
<text text-anchor="middle" x="135" y="-347.9" font-family="Helvetica,sans-Serif" font-size="12.00">(RMSE / median / P90)</text>
</g>
<!-- d3&#45;&gt;d4 -->
<g id="edge4" class="edge">
<title>d3&#45;&gt;d4</title>
<path fill="none" stroke="black" d="M153.43,-434.15C149.9,-419.66 145.31,-400.82 141.6,-385.57"/>
<polygon fill="black" stroke="black" points="144.96,-384.57 139.19,-375.69 138.15,-386.23 144.96,-384.57"/>
</g>
<!-- fp -->
<g id="node30" class="node">
<title>fp</title>
<path fill="none" stroke="black" d="M787,-261C787,-261 617,-261 617,-261 611,-261 605,-255 605,-249 605,-249 605,-174 605,-174 605,-168 611,-162 617,-162 617,-162 787,-162 787,-162 793,-162 799,-168 799,-174 799,-174 799,-249 799,-249 799,-255 793,-261 787,-261"/>
<text text-anchor="middle" x="702" y="-247.4" font-family="Helvetica,sans-Serif" font-size="12.00">core.fingerprinting</text>
<text text-anchor="middle" x="702" y="-234.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; dataset + preprocess</text>
<text text-anchor="middle" x="702" y="-221.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; deterministic (NN/k&#45;NN)</text>
<text text-anchor="middle" x="702" y="-208.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; probabilistic (GNB)</text>
<text text-anchor="middle" x="702" y="-195.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; pattern_recognition (LinReg)</text>
<text text-anchor="middle" x="702" y="-182.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; classification (RF/SVM)</text>
<text text-anchor="middle" x="702" y="-169.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; hierarchical localization</text>
</g>
<!-- d3&#45;&gt;fp -->
<g id="edge29" class="edge">
<title>d3&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M182.84,-434.39C197.7,-419.78 216.81,-400.01 232,-381 247.62,-361.45 248.32,-354.27 263,-334 272.65,-320.68 271.3,-312.38 286,-305 312.83,-291.54 527.13,-305.21 556,-297 579.89,-290.2 603.98,-278.64 625.51,-266.2"/>
<polygon fill="black" stroke="black" points="627.43,-269.13 634.25,-261.03 623.86,-263.11 627.43,-269.13"/>
<text text-anchor="middle" x="274.5" y="-355" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- d5 -->
<g id="node7" class="node">
<title>d5</title>
<path fill="none" stroke="black" d="M256,-235C256,-235 28,-235 28,-235 22,-235 16,-229 16,-223 16,-223 16,-200 16,-200 16,-194 22,-188 28,-188 28,-188 256,-188 256,-188 262,-188 268,-194 268,-200 268,-200 268,-223 268,-223 268,-229 262,-235 256,-235"/>
<text text-anchor="middle" x="142" y="-221.4" font-family="Helvetica,sans-Serif" font-size="12.00">Visualize:</text>
<text text-anchor="middle" x="142" y="-208.4" font-family="Helvetica,sans-Serif" font-size="12.00">RP layout + error CDF + trade&#45;off</text>
<text text-anchor="middle" x="142" y="-195.4" font-family="Helvetica,sans-Serif" font-size="12.00">Save: figs/deterministic_positioning.png</text>
</g>
<!-- d4&#45;&gt;d5 -->
<g id="edge5" class="edge">
<title>d4&#45;&gt;d5</title>
<path fill="none" stroke="black" d="M135.83,-339.42C136.95,-316.33 138.98,-274.68 140.4,-245.41"/>
<polygon fill="black" stroke="black" points="143.9,-245.4 140.89,-235.24 136.91,-245.06 143.9,-245.4"/>
</g>
<!-- p2 -->
<g id="node9" class="node">
<title>p2</title>
<path fill="none" stroke="black" d="M525.5,-561C525.5,-561 380.5,-561 380.5,-561 374.5,-561 368.5,-555 368.5,-549 368.5,-549 368.5,-537 368.5,-537 368.5,-531 374.5,-525 380.5,-525 380.5,-525 525.5,-525 525.5,-525 531.5,-525 537.5,-531 537.5,-537 537.5,-537 537.5,-549 537.5,-549 537.5,-555 531.5,-561 525.5,-561"/>
<text text-anchor="middle" x="453" y="-546.4" font-family="Helvetica,sans-Serif" font-size="12.00">Fit Gaussian Naive Bayes:</text>
<text text-anchor="middle" x="453" y="-533.4" font-family="Helvetica,sans-Serif" font-size="12.00">P(z|x_i) (Eq. 5.6)</text>
</g>
<!-- p1&#45;&gt;p2 -->
<g id="edge6" class="edge">
<title>p1&#45;&gt;p2</title>
<path fill="none" stroke="black" d="M439.36,-597.81C441.41,-589.7 443.91,-579.84 446.21,-570.78"/>
<polygon fill="black" stroke="black" points="449.62,-571.58 448.68,-561.03 442.83,-569.86 449.62,-571.58"/>
</g>
<!-- p3 -->
<g id="node10" class="node">
<title>p3</title>
<path fill="none" stroke="black" d="M514.5,-476C514.5,-476 391.5,-476 391.5,-476 385.5,-476 379.5,-470 379.5,-464 379.5,-464 379.5,-452 379.5,-452 379.5,-446 385.5,-440 391.5,-440 391.5,-440 514.5,-440 514.5,-440 520.5,-440 526.5,-446 526.5,-452 526.5,-452 526.5,-464 526.5,-464 526.5,-470 520.5,-476 514.5,-476"/>
<text text-anchor="middle" x="453" y="-461.4" font-family="Helvetica,sans-Serif" font-size="12.00">Generate test queries</text>
<text text-anchor="middle" x="453" y="-448.4" font-family="Helvetica,sans-Serif" font-size="12.00">(+ RSS noise)</text>
</g>
<!-- p2&#45;&gt;p3 -->
<g id="edge7" class="edge">
<title>p2&#45;&gt;p3</title>
<path fill="none" stroke="black" d="M453,-524.8C453,-513.67 453,-498.94 453,-486.24"/>
<polygon fill="black" stroke="black" points="456.5,-486.18 453,-476.18 449.5,-486.18 456.5,-486.18"/>
</g>
<!-- p2&#45;&gt;fp -->
<g id="edge30" class="edge">
<title>p2&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M486.66,-524.8C502.85,-515.42 521.79,-502.71 536,-488 598.79,-423 648.54,-330.08 676.63,-270.51"/>
<polygon fill="black" stroke="black" points="679.9,-271.79 680.96,-261.25 673.56,-268.83 679.9,-271.79"/>
<text text-anchor="middle" x="615.5" y="-402" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- p4 -->
<g id="node11" class="node">
<title>p4</title>
<path fill="none" stroke="black" d="M515.5,-381C515.5,-381 390.5,-381 390.5,-381 384.5,-381 378.5,-375 378.5,-369 378.5,-369 378.5,-346 378.5,-346 378.5,-340 384.5,-334 390.5,-334 390.5,-334 515.5,-334 515.5,-334 521.5,-334 527.5,-340 527.5,-346 527.5,-346 527.5,-369 527.5,-369 527.5,-375 521.5,-381 515.5,-381"/>
<text text-anchor="middle" x="453" y="-367.4" font-family="Helvetica,sans-Serif" font-size="12.00">Compute posterior:</text>
<text text-anchor="middle" x="453" y="-354.4" font-family="Helvetica,sans-Serif" font-size="12.00">P(x_i|z) ∝ P(z|x_i)P(x_i)</text>
<text text-anchor="middle" x="453" y="-341.4" font-family="Helvetica,sans-Serif" font-size="12.00">(Eq. 5.3)</text>
</g>
<!-- p3&#45;&gt;p4 -->
<g id="edge8" class="edge">
<title>p3&#45;&gt;p4</title>
<path fill="none" stroke="black" d="M453,-439.84C453,-426.46 453,-407.48 453,-391.21"/>
<polygon fill="black" stroke="black" points="456.5,-391.01 453,-381.01 449.5,-391.01 456.5,-391.01"/>
</g>
<!-- p5 -->
<g id="node12" class="node">
<title>p5</title>
<path fill="none" stroke="black" d="M519,-235C519,-235 381,-235 381,-235 375,-235 369,-229 369,-223 369,-223 369,-200 369,-200 369,-194 375,-188 381,-188 381,-188 519,-188 519,-188 525,-188 531,-194 531,-200 531,-200 531,-223 531,-223 531,-229 525,-235 519,-235"/>
<text text-anchor="middle" x="450" y="-221.4" font-family="Helvetica,sans-Serif" font-size="12.00">Estimate location:</text>
<text text-anchor="middle" x="450" y="-208.4" font-family="Helvetica,sans-Serif" font-size="12.00">MAP (Eq. 5.4)</text>
<text text-anchor="middle" x="450" y="-195.4" font-family="Helvetica,sans-Serif" font-size="12.00">Posterior mean (Eq. 5.5)</text>
</g>
<!-- p4&#45;&gt;p5 -->
<g id="edge9" class="edge">
<title>p4&#45;&gt;p5</title>
<path fill="none" stroke="black" d="M452.52,-333.68C452.03,-309.88 451.25,-272.34 450.68,-245.34"/>
<polygon fill="black" stroke="black" points="454.18,-245.14 450.47,-235.21 447.18,-245.28 454.18,-245.14"/>
</g>
<!-- p4&#45;&gt;fp -->
<g id="edge31" class="edge">
<title>p4&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M492.13,-333.9C511.37,-322.79 534.9,-309.2 556,-297 573.06,-287.14 591.23,-276.62 608.76,-266.48"/>
<polygon fill="black" stroke="black" points="610.95,-269.25 617.85,-261.22 607.45,-263.2 610.95,-269.25"/>
<text text-anchor="middle" x="552.5" y="-308" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- p6 -->
<g id="node13" class="node">
<title>p6</title>
<path fill="none" stroke="black" d="M514,-125C514,-125 366,-125 366,-125 360,-125 354,-119 354,-113 354,-113 354,-101 354,-101 354,-95 360,-89 366,-89 366,-89 514,-89 514,-89 520,-89 526,-95 526,-101 526,-101 526,-113 526,-113 526,-119 520,-125 514,-125"/>
<text text-anchor="middle" x="440" y="-103.9" font-family="Helvetica,sans-Serif" font-size="12.00">Evaluate errors + runtime</text>
</g>
<!-- p5&#45;&gt;p6 -->
<g id="edge10" class="edge">
<title>p5&#45;&gt;p6</title>
<path fill="none" stroke="black" d="M447.78,-187.75C446.27,-172.27 444.26,-151.7 442.67,-135.33"/>
<polygon fill="black" stroke="black" points="446.14,-134.88 441.69,-125.27 439.17,-135.56 446.14,-134.88"/>
</g>
<!-- p7 -->
<g id="node14" class="node">
<title>p7</title>
<path fill="none" stroke="black" d="M532,-52C532,-52 310,-52 310,-52 304,-52 298,-46 298,-40 298,-40 298,-28 298,-28 298,-22 304,-16 310,-16 310,-16 532,-16 532,-16 538,-16 544,-22 544,-28 544,-28 544,-40 544,-40 544,-46 538,-52 532,-52"/>
<text text-anchor="middle" x="421" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Visualize posterior + errors</text>
<text text-anchor="middle" x="421" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">Save: figs/probabilistic_positioning.png</text>
</g>
<!-- p6&#45;&gt;p7 -->
<g id="edge11" class="edge">
<title>p6&#45;&gt;p7</title>
<path fill="none" stroke="black" d="M435.4,-88.81C433.23,-80.7 430.59,-70.84 428.17,-61.78"/>
<polygon fill="black" stroke="black" points="431.52,-60.78 425.56,-52.03 424.76,-62.59 431.52,-60.78"/>
</g>
<!-- r2 -->
<g id="node16" class="node">
<title>r2</title>
<path fill="none" stroke="black" d="M1537,-561C1537,-561 1435,-561 1435,-561 1429,-561 1423,-555 1423,-549 1423,-549 1423,-537 1423,-537 1423,-531 1429,-525 1435,-525 1435,-525 1537,-525 1537,-525 1543,-525 1549,-531 1549,-537 1549,-537 1549,-549 1549,-549 1549,-555 1543,-561 1537,-561"/>
<text text-anchor="middle" x="1486" y="-546.4" font-family="Helvetica,sans-Serif" font-size="12.00">Split into train/test</text>
<text text-anchor="middle" x="1486" y="-533.4" font-family="Helvetica,sans-Serif" font-size="12.00">(on chosen floor)</text>
</g>
<!-- r1&#45;&gt;r2 -->
<g id="edge12" class="edge">
<title>r1&#45;&gt;r2</title>
<path fill="none" stroke="black" d="M1486,-597.81C1486,-589.79 1486,-580.05 1486,-571.07"/>
<polygon fill="black" stroke="black" points="1489.5,-571.03 1486,-561.03 1482.5,-571.03 1489.5,-571.03"/>
</g>
<!-- r3 -->
<g id="node17" class="node">
<title>r3</title>
<path fill="none" stroke="black" d="M1576,-481.5C1576,-481.5 1396,-481.5 1396,-481.5 1390,-481.5 1384,-475.5 1384,-469.5 1384,-469.5 1384,-446.5 1384,-446.5 1384,-440.5 1390,-434.5 1396,-434.5 1396,-434.5 1576,-434.5 1576,-434.5 1582,-434.5 1588,-440.5 1588,-446.5 1588,-446.5 1588,-469.5 1588,-469.5 1588,-475.5 1582,-481.5 1576,-481.5"/>
<text text-anchor="middle" x="1486" y="-467.9" font-family="Helvetica,sans-Serif" font-size="12.00">Train linear regression localizer:</text>
<text text-anchor="middle" x="1486" y="-454.9" font-family="Helvetica,sans-Serif" font-size="12.00"> x̂ = Wz + b (ridge)</text>
<text text-anchor="middle" x="1486" y="-441.9" font-family="Helvetica,sans-Serif" font-size="12.00">for λ ∈ {0,0.1,1,10}</text>
</g>
<!-- r2&#45;&gt;r3 -->
<g id="edge13" class="edge">
<title>r2&#45;&gt;r3</title>
<path fill="none" stroke="black" d="M1486,-524.8C1486,-515.2 1486,-502.93 1486,-491.59"/>
<polygon fill="black" stroke="black" points="1489.5,-491.54 1486,-481.54 1482.5,-491.54 1489.5,-491.54"/>
</g>
<!-- r4 -->
<g id="node18" class="node">
<title>r4</title>
<path fill="none" stroke="black" d="M1587,-375.5C1587,-375.5 1449,-375.5 1449,-375.5 1443,-375.5 1437,-369.5 1437,-363.5 1437,-363.5 1437,-351.5 1437,-351.5 1437,-345.5 1443,-339.5 1449,-339.5 1449,-339.5 1587,-339.5 1587,-339.5 1593,-339.5 1599,-345.5 1599,-351.5 1599,-351.5 1599,-363.5 1599,-363.5 1599,-369.5 1593,-375.5 1587,-375.5"/>
<text text-anchor="middle" x="1518" y="-360.9" font-family="Helvetica,sans-Serif" font-size="12.00">Evaluate on train + test:</text>
<text text-anchor="middle" x="1518" y="-347.9" font-family="Helvetica,sans-Serif" font-size="12.00">RMSE, R², time/query</text>
</g>
<!-- r3&#45;&gt;r4 -->
<g id="edge14" class="edge">
<title>r3&#45;&gt;r4</title>
<path fill="none" stroke="black" d="M1493.42,-434.15C1498.13,-419.66 1504.25,-400.82 1509.2,-385.57"/>
<polygon fill="black" stroke="black" points="1512.66,-386.28 1512.42,-375.69 1506,-384.11 1512.66,-386.28"/>
</g>
<!-- r3&#45;&gt;fp -->
<g id="edge32" class="edge">
<title>r3&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1457.49,-434.38C1440.84,-420.23 1420.19,-400.94 1405,-381 1381.87,-350.63 1397.53,-324.96 1365,-305 1338.76,-288.9 840.05,-307.18 811,-297 792.43,-290.49 774.55,-279.46 758.83,-267.47"/>
<polygon fill="black" stroke="black" points="760.83,-264.59 750.82,-261.14 756.49,-270.08 760.83,-264.59"/>
<text text-anchor="middle" x="1416.5" y="-355" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- r5 -->
<g id="node19" class="node">
<title>r5</title>
<path fill="none" stroke="black" d="M1655.5,-229.5C1655.5,-229.5 1388.5,-229.5 1388.5,-229.5 1382.5,-229.5 1376.5,-223.5 1376.5,-217.5 1376.5,-217.5 1376.5,-205.5 1376.5,-205.5 1376.5,-199.5 1382.5,-193.5 1388.5,-193.5 1388.5,-193.5 1655.5,-193.5 1655.5,-193.5 1661.5,-193.5 1667.5,-199.5 1667.5,-205.5 1667.5,-205.5 1667.5,-217.5 1667.5,-217.5 1667.5,-223.5 1661.5,-229.5 1655.5,-229.5"/>
<text text-anchor="middle" x="1522" y="-214.9" font-family="Helvetica,sans-Serif" font-size="12.00">Visualize weights + error stats</text>
<text text-anchor="middle" x="1522" y="-201.9" font-family="Helvetica,sans-Serif" font-size="12.00">Save: figs/pattern_recognition_positioning.png</text>
</g>
<!-- r4&#45;&gt;r5 -->
<g id="edge15" class="edge">
<title>r4&#45;&gt;r5</title>
<path fill="none" stroke="black" d="M1518.47,-339.42C1519.16,-314.84 1520.42,-269.25 1521.24,-239.93"/>
<polygon fill="black" stroke="black" points="1524.75,-239.66 1521.53,-229.56 1517.75,-239.46 1524.75,-239.66"/>
</g>
<!-- c2 -->
<g id="node21" class="node">
<title>c2</title>
<path fill="none" stroke="black" d="M1265.5,-561C1265.5,-561 1138.5,-561 1138.5,-561 1132.5,-561 1126.5,-555 1126.5,-549 1126.5,-549 1126.5,-537 1126.5,-537 1126.5,-531 1132.5,-525 1138.5,-525 1138.5,-525 1265.5,-525 1265.5,-525 1271.5,-525 1277.5,-531 1277.5,-537 1277.5,-537 1277.5,-549 1277.5,-549 1277.5,-555 1271.5,-561 1265.5,-561"/>
<text text-anchor="middle" x="1202" y="-546.4" font-family="Helvetica,sans-Serif" font-size="12.00">Train classifiers:</text>
<text text-anchor="middle" x="1202" y="-533.4" font-family="Helvetica,sans-Serif" font-size="12.00">Random Forest + SVM</text>
</g>
<!-- c1&#45;&gt;c2 -->
<g id="edge16" class="edge">
<title>c1&#45;&gt;c2</title>
<path fill="none" stroke="black" d="M1202,-597.81C1202,-589.79 1202,-580.05 1202,-571.07"/>
<polygon fill="black" stroke="black" points="1205.5,-571.03 1202,-561.03 1198.5,-571.03 1205.5,-571.03"/>
</g>
<!-- c3 -->
<g id="node22" class="node">
<title>c3</title>
<path fill="none" stroke="black" d="M1312,-476C1312,-476 1156,-476 1156,-476 1150,-476 1144,-470 1144,-464 1144,-464 1144,-452 1144,-452 1144,-446 1150,-440 1156,-440 1156,-440 1312,-440 1312,-440 1318,-440 1324,-446 1324,-452 1324,-452 1324,-464 1324,-464 1324,-470 1318,-476 1312,-476"/>
<text text-anchor="middle" x="1234" y="-461.4" font-family="Helvetica,sans-Serif" font-size="12.00">Test accuracy + robustness</text>
<text text-anchor="middle" x="1234" y="-448.4" font-family="Helvetica,sans-Serif" font-size="12.00">to noisy queries</text>
</g>
<!-- c2&#45;&gt;c3 -->
<g id="edge17" class="edge">
<title>c2&#45;&gt;c3</title>
<path fill="none" stroke="black" d="M1208.63,-524.8C1212.96,-513.56 1218.71,-498.65 1223.64,-485.86"/>
<polygon fill="black" stroke="black" points="1227.05,-486.77 1227.38,-476.18 1220.51,-484.25 1227.05,-486.77"/>
</g>
<!-- c2&#45;&gt;fp -->
<g id="edge33" class="edge">
<title>c2&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1173.49,-524.84C1160.09,-515.47 1144.91,-502.76 1135,-488 1095.18,-428.7 1143.34,-380.37 1089,-334 994.18,-253.09 926,-345.07 811,-297 793.66,-289.75 776.72,-279.01 761.54,-267.6"/>
<polygon fill="black" stroke="black" points="763.35,-264.57 753.31,-261.2 759.06,-270.1 763.35,-264.57"/>
<text text-anchor="middle" x="1128.5" y="-402" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- c4 -->
<g id="node23" class="node">
<title>c4</title>
<path fill="none" stroke="black" d="M1324.5,-381C1324.5,-381 1149.5,-381 1149.5,-381 1143.5,-381 1137.5,-375 1137.5,-369 1137.5,-369 1137.5,-346 1137.5,-346 1137.5,-340 1143.5,-334 1149.5,-334 1149.5,-334 1324.5,-334 1324.5,-334 1330.5,-334 1336.5,-340 1336.5,-346 1336.5,-346 1336.5,-369 1336.5,-369 1336.5,-375 1330.5,-381 1324.5,-381"/>
<text text-anchor="middle" x="1237" y="-367.4" font-family="Helvetica,sans-Serif" font-size="12.00">Hierarchical localization:</text>
<text text-anchor="middle" x="1237" y="-354.4" font-family="Helvetica,sans-Serif" font-size="12.00">coarse floor classification →</text>
<text text-anchor="middle" x="1237" y="-341.4" font-family="Helvetica,sans-Serif" font-size="12.00">fine localization (k&#45;NN / Bayes)</text>
</g>
<!-- c3&#45;&gt;c4 -->
<g id="edge18" class="edge">
<title>c3&#45;&gt;c4</title>
<path fill="none" stroke="black" d="M1234.52,-439.84C1234.93,-426.46 1235.51,-407.48 1236,-391.21"/>
<polygon fill="black" stroke="black" points="1239.51,-391.11 1236.31,-381.01 1232.51,-390.89 1239.51,-391.11"/>
</g>
<!-- c5 -->
<g id="node24" class="node">
<title>c5</title>
<path fill="none" stroke="black" d="M1341,-235C1341,-235 1113,-235 1113,-235 1107,-235 1101,-229 1101,-223 1101,-223 1101,-200 1101,-200 1101,-194 1107,-188 1113,-188 1113,-188 1341,-188 1341,-188 1347,-188 1353,-194 1353,-200 1353,-200 1353,-223 1353,-223 1353,-229 1347,-235 1341,-235"/>
<text text-anchor="middle" x="1227" y="-221.4" font-family="Helvetica,sans-Serif" font-size="12.00">Save figures:</text>
<text text-anchor="middle" x="1227" y="-208.4" font-family="Helvetica,sans-Serif" font-size="12.00">figs/classification_noise_robustness.png</text>
<text text-anchor="middle" x="1227" y="-195.4" font-family="Helvetica,sans-Serif" font-size="12.00">figs/hierarchical_localization.png</text>
</g>
<!-- c4&#45;&gt;c5 -->
<g id="edge19" class="edge">
<title>c4&#45;&gt;c5</title>
<path fill="none" stroke="black" d="M1235.42,-333.68C1233.76,-309.88 1231.16,-272.34 1229.28,-245.34"/>
<polygon fill="black" stroke="black" points="1232.76,-244.94 1228.58,-235.21 1225.78,-245.43 1232.76,-244.94"/>
</g>
<!-- c4&#45;&gt;fp -->
<g id="edge34" class="edge">
<title>c4&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1197.49,-333.93C1176.15,-322.98 1148.93,-310.93 1123,-305 1089.2,-297.26 843.66,-308.65 811,-297 792.56,-290.43 774.79,-279.43 759.13,-267.51"/>
<polygon fill="black" stroke="black" points="761.16,-264.66 751.14,-261.22 756.82,-270.16 761.16,-264.66"/>
<text text-anchor="middle" x="1166.5" y="-308" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- m2 -->
<g id="node26" class="node">
<title>m2</title>
<path fill="none" stroke="black" d="M1033.5,-561C1033.5,-561 848.5,-561 848.5,-561 842.5,-561 836.5,-555 836.5,-549 836.5,-549 836.5,-537 836.5,-537 836.5,-531 842.5,-525 848.5,-525 848.5,-525 1033.5,-525 1033.5,-525 1039.5,-525 1045.5,-531 1045.5,-537 1045.5,-537 1045.5,-549 1045.5,-549 1045.5,-555 1039.5,-561 1033.5,-561"/>
<text text-anchor="middle" x="941" y="-546.4" font-family="Helvetica,sans-Serif" font-size="12.00">Define scenarios:</text>
<text text-anchor="middle" x="941" y="-533.4" font-family="Helvetica,sans-Serif" font-size="12.00">Baseline / Moderate / High noise</text>
</g>
<!-- m1&#45;&gt;m2 -->
<g id="edge20" class="edge">
<title>m1&#45;&gt;m2</title>
<path fill="none" stroke="black" d="M941,-597.81C941,-589.79 941,-580.05 941,-571.07"/>
<polygon fill="black" stroke="black" points="944.5,-571.03 941,-561.03 937.5,-571.03 944.5,-571.03"/>
</g>
<!-- m3 -->
<g id="node27" class="node">
<title>m3</title>
<path fill="none" stroke="black" d="M1020,-488C1020,-488 862,-488 862,-488 856,-488 850,-482 850,-476 850,-476 850,-440 850,-440 850,-434 856,-428 862,-428 862,-428 1020,-428 1020,-428 1026,-428 1032,-434 1032,-440 1032,-440 1032,-476 1032,-476 1032,-482 1026,-488 1020,-488"/>
<text text-anchor="middle" x="941" y="-474.4" font-family="Helvetica,sans-Serif" font-size="12.00">Run method suite:</text>
<text text-anchor="middle" x="941" y="-461.4" font-family="Helvetica,sans-Serif" font-size="12.00">Deterministic (NN/k&#45;NN)</text>
<text text-anchor="middle" x="941" y="-448.4" font-family="Helvetica,sans-Serif" font-size="12.00">Probabilistic (MAP/mean)</text>
<text text-anchor="middle" x="941" y="-435.4" font-family="Helvetica,sans-Serif" font-size="12.00">Pattern recognition (LinReg)</text>
</g>
<!-- m2&#45;&gt;m3 -->
<g id="edge21" class="edge">
<title>m2&#45;&gt;m3</title>
<path fill="none" stroke="black" d="M941,-524.8C941,-517.14 941,-507.78 941,-498.55"/>
<polygon fill="black" stroke="black" points="944.5,-498.27 941,-488.27 937.5,-498.27 944.5,-498.27"/>
</g>
<!-- m4 -->
<g id="node28" class="node">
<title>m4</title>
<path fill="none" stroke="black" d="M1023.5,-375.5C1023.5,-375.5 868.5,-375.5 868.5,-375.5 862.5,-375.5 856.5,-369.5 856.5,-363.5 856.5,-363.5 856.5,-351.5 856.5,-351.5 856.5,-345.5 862.5,-339.5 868.5,-339.5 868.5,-339.5 1023.5,-339.5 1023.5,-339.5 1029.5,-339.5 1035.5,-345.5 1035.5,-351.5 1035.5,-351.5 1035.5,-363.5 1035.5,-363.5 1035.5,-369.5 1029.5,-375.5 1023.5,-375.5"/>
<text text-anchor="middle" x="946" y="-360.9" font-family="Helvetica,sans-Serif" font-size="12.00">Aggregate metrics:</text>
<text text-anchor="middle" x="946" y="-347.9" font-family="Helvetica,sans-Serif" font-size="12.00">RMSE / median / P90 / time</text>
</g>
<!-- m3&#45;&gt;m4 -->
<g id="edge22" class="edge">
<title>m3&#45;&gt;m4</title>
<path fill="none" stroke="black" d="M942.47,-427.98C943.15,-414.68 943.94,-399 944.61,-385.9"/>
<polygon fill="black" stroke="black" points="948.12,-385.78 945.13,-375.62 941.13,-385.42 948.12,-385.78"/>
</g>
<!-- m3&#45;&gt;fp -->
<g id="edge35" class="edge">
<title>m3&#45;&gt;fp</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M888.12,-427.95C867.22,-415.09 843.76,-398.83 825,-381 790.4,-348.1 758.81,-304.4 736.32,-269.75"/>
<polygon fill="black" stroke="black" points="739.14,-267.68 730.8,-261.15 733.25,-271.46 739.14,-267.68"/>
<text text-anchor="middle" x="836.5" y="-355" font-family="Helvetica,sans-Serif" font-size="10.00">calls</text>
</g>
<!-- m5 -->
<g id="node29" class="node">
<title>m5</title>
<path fill="none" stroke="black" d="M1064.5,-229.5C1064.5,-229.5 835.5,-229.5 835.5,-229.5 829.5,-229.5 823.5,-223.5 823.5,-217.5 823.5,-217.5 823.5,-205.5 823.5,-205.5 823.5,-199.5 829.5,-193.5 835.5,-193.5 835.5,-193.5 1064.5,-193.5 1064.5,-193.5 1070.5,-193.5 1076.5,-199.5 1076.5,-205.5 1076.5,-205.5 1076.5,-217.5 1076.5,-217.5 1076.5,-223.5 1070.5,-229.5 1064.5,-229.5"/>
<text text-anchor="middle" x="950" y="-214.9" font-family="Helvetica,sans-Serif" font-size="12.00">Plot cross&#45;scenario comparison</text>
<text text-anchor="middle" x="950" y="-201.9" font-family="Helvetica,sans-Serif" font-size="12.00">Save: figs/comparison_all_methods.png</text>
</g>
<!-- m4&#45;&gt;m5 -->
<g id="edge23" class="edge">
<title>m4&#45;&gt;m5</title>
<path fill="none" stroke="black" d="M946.47,-339.42C947.16,-314.84 948.42,-269.25 949.24,-239.93"/>
<polygon fill="black" stroke="black" points="952.75,-239.66 949.53,-229.56 945.75,-239.46 952.75,-239.66"/>
</g>
</g>
</svg>
