<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: CH7_FLOW Pages: 1 -->
<svg width="2175pt" height="244pt"
 viewBox="0.00 0.00 2175.20 244.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 240)">
<title>CH7_FLOW</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-240 2171.2,-240 2171.2,4 -4,4"/>
<text text-anchor="middle" x="1083.6" y="-217.6" font-family="Times,serif" font-size="18.00">IPIN Examples — Chapter 7 (SLAM) — Execution Flow (Clean)</text>
<g id="clust1" class="cluster">
<title>cluster_posegraph</title>
<path fill="none" stroke="#cccccc" d="M342.23,-96C342.23,-96 2147.2,-96 2147.2,-96 2153.2,-96 2159.2,-102 2159.2,-108 2159.2,-108 2159.2,-188 2159.2,-188 2159.2,-194 2153.2,-200 2147.2,-200 2147.2,-200 342.23,-200 342.23,-200 336.23,-200 330.23,-194 330.23,-188 330.23,-188 330.23,-108 330.23,-108 330.23,-102 336.23,-96 342.23,-96"/>
<text text-anchor="middle" x="1244.71" y="-181.6" font-family="Times,serif" font-size="18.00">A) Pose Graph SLAM (LiDAR / 2D SE(2))</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_ba</title>
<path fill="none" stroke="#cccccc" d="M755.2,-8C755.2,-8 2147.2,-8 2147.2,-8 2153.2,-8 2159.2,-14 2159.2,-20 2159.2,-20 2159.2,-76 2159.2,-76 2159.2,-82 2153.2,-88 2147.2,-88 2147.2,-88 755.2,-88 755.2,-88 749.2,-88 743.2,-82 743.2,-76 743.2,-76 743.2,-20 743.2,-20 743.2,-14 749.2,-8 755.2,-8"/>
<text text-anchor="middle" x="1451.2" y="-69.6" font-family="Times,serif" font-size="18.00">B) Visual Bundle Adjustment (Camera / reprojection)</text>
</g>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<ellipse fill="#ffffff" stroke="black" cx="150.61" cy="-122" rx="150.73" ry="24.08"/>
<text text-anchor="middle" x="150.61" y="-125.4" font-family="Helvetica,sans-Serif" font-size="12.00">User runs a Chapter 7 script</text>
<text text-anchor="middle" x="150.61" y="-112.4" font-family="Helvetica,sans-Serif" font-size="12.00">python &#45;m ch7_slam.&lt;example&gt;</text>
</g>
<!-- choose -->
<g id="node2" class="node">
<title>choose</title>
<path fill="#ffffff" stroke="black" d="M427.4,-137.89C427.4,-137.89 350.05,-124.11 350.05,-124.11 344.15,-123.05 344.15,-120.95 350.05,-119.89 350.05,-119.89 427.4,-106.11 427.4,-106.11 433.31,-105.05 445.12,-105.05 451.03,-106.11 451.03,-106.11 528.37,-119.89 528.37,-119.89 534.28,-120.95 534.28,-123.05 528.37,-124.11 528.37,-124.11 451.03,-137.89 451.03,-137.89 445.12,-138.95 433.31,-138.95 427.4,-137.89"/>
<text text-anchor="middle" x="439.21" y="-118.9" font-family="Helvetica,sans-Serif" font-size="12.00">Choose example</text>
</g>
<!-- start&#45;&gt;choose -->
<g id="edge1" class="edge">
<title>start&#45;&gt;choose</title>
<path fill="none" stroke="#555555" d="M301.63,-122C310.49,-122 319.31,-122 327.97,-122"/>
<polygon fill="#555555" stroke="#555555" points="328.04,-125.5 338.04,-122 328.04,-118.5 328.04,-125.5"/>
</g>
<!-- pg_args -->
<g id="node3" class="node">
<title>pg_args</title>
<path fill="#f7f7f7" stroke="black" d="M928.2,-146C928.2,-146 817.2,-146 817.2,-146 811.2,-146 805.2,-140 805.2,-134 805.2,-134 805.2,-122 805.2,-122 805.2,-116 811.2,-110 817.2,-110 817.2,-110 928.2,-110 928.2,-110 934.2,-110 940.2,-116 940.2,-122 940.2,-122 940.2,-134 940.2,-134 940.2,-140 934.2,-146 928.2,-146"/>
<text text-anchor="middle" x="872.7" y="-131.4" font-family="Helvetica,sans-Serif" font-size="12.00">Parse args / config</text>
<text text-anchor="middle" x="872.7" y="-118.4" font-family="Helvetica,sans-Serif" font-size="12.00">(optional &#45;&#45;data_dir)</text>
</g>
<!-- choose&#45;&gt;pg_args -->
<g id="edge2" class="edge">
<title>choose&#45;&gt;pg_args</title>
<path fill="none" stroke="#555555" d="M533.04,-123.29C611.23,-124.38 721.73,-125.91 794.98,-126.93"/>
<polygon fill="#555555" stroke="#555555" points="795.01,-130.43 805.06,-127.07 795.11,-123.43 795.01,-130.43"/>
<text text-anchor="middle" x="645.7" y="-129.2" font-family="Helvetica,sans-Serif" font-size="11.00">example_pose_graph_slam.py</text>
</g>
<!-- ba_gen -->
<g id="node9" class="node">
<title>ba_gen</title>
<path fill="#f7f7f7" stroke="black" d="M982.2,-52C982.2,-52 763.2,-52 763.2,-52 757.2,-52 751.2,-46 751.2,-40 751.2,-40 751.2,-28 751.2,-28 751.2,-22 757.2,-16 763.2,-16 763.2,-16 982.2,-16 982.2,-16 988.2,-16 994.2,-22 994.2,-28 994.2,-28 994.2,-40 994.2,-40 994.2,-46 988.2,-52 982.2,-52"/>
<text text-anchor="middle" x="872.7" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Generate synthetic camera trajectory</text>
<text text-anchor="middle" x="872.7" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">+ 3D landmarks</text>
</g>
<!-- choose&#45;&gt;ba_gen -->
<g id="edge8" class="edge">
<title>choose&#45;&gt;ba_gen</title>
<path fill="none" stroke="#555555" d="M487.21,-112.41C555.53,-98.48 683.86,-72.31 773.39,-54.05"/>
<polygon fill="#555555" stroke="#555555" points="774.19,-57.46 783.29,-52.03 772.79,-50.6 774.19,-57.46"/>
<text text-anchor="middle" x="645.7" y="-100.2" font-family="Helvetica,sans-Serif" font-size="11.00">example_bundle_adjustment.py</text>
</g>
<!-- pg_data -->
<g id="node4" class="node">
<title>pg_data</title>
<path fill="#f7f7f7" stroke="black" d="M1252.2,-149C1252.2,-149 1043.2,-149 1043.2,-149 1037.2,-149 1031.2,-143 1031.2,-137 1031.2,-137 1031.2,-125 1031.2,-125 1031.2,-119 1037.2,-113 1043.2,-113 1043.2,-113 1252.2,-113 1252.2,-113 1258.2,-113 1264.2,-119 1264.2,-125 1264.2,-125 1264.2,-137 1264.2,-137 1264.2,-143 1258.2,-149 1252.2,-149"/>
<text text-anchor="middle" x="1147.7" y="-134.4" font-family="Helvetica,sans-Serif" font-size="12.00">Load dataset OR generate synthetic</text>
<text text-anchor="middle" x="1147.7" y="-121.4" font-family="Helvetica,sans-Serif" font-size="12.00">poses + scans + loop closures</text>
</g>
<!-- pg_args&#45;&gt;pg_data -->
<g id="edge3" class="edge">
<title>pg_args&#45;&gt;pg_data</title>
<path fill="none" stroke="#555555" d="M940.48,-128.73C964.81,-129 993.16,-129.31 1020.93,-129.62"/>
<polygon fill="#555555" stroke="#555555" points="1021.08,-133.12 1031.12,-129.73 1021.16,-126.12 1021.08,-133.12"/>
</g>
<!-- pg_icp -->
<g id="node5" class="node">
<title>pg_icp</title>
<path fill="#f7f7f7" stroke="black" d="M1482.7,-150C1482.7,-150 1320.7,-150 1320.7,-150 1314.7,-150 1308.7,-144 1308.7,-138 1308.7,-138 1308.7,-126 1308.7,-126 1308.7,-120 1314.7,-114 1320.7,-114 1320.7,-114 1482.7,-114 1482.7,-114 1488.7,-114 1494.7,-120 1494.7,-126 1494.7,-126 1494.7,-138 1494.7,-138 1494.7,-144 1488.7,-150 1482.7,-150"/>
<text text-anchor="middle" x="1401.7" y="-135.4" font-family="Helvetica,sans-Serif" font-size="12.00">Estimate relative transforms</text>
<text text-anchor="middle" x="1401.7" y="-122.4" font-family="Helvetica,sans-Serif" font-size="12.00">ICP scan matching</text>
</g>
<!-- pg_data&#45;&gt;pg_icp -->
<g id="edge4" class="edge">
<title>pg_data&#45;&gt;pg_icp</title>
<path fill="none" stroke="#555555" d="M1264.37,-131.46C1275.67,-131.5 1287.07,-131.55 1298.22,-131.59"/>
<polygon fill="#555555" stroke="#555555" points="1298.37,-135.09 1308.38,-131.63 1298.39,-128.09 1298.37,-135.09"/>
</g>
<!-- pg_factors -->
<g id="node6" class="node">
<title>pg_factors</title>
<path fill="#f7f7f7" stroke="black" d="M1691.2,-164C1691.2,-164 1572.2,-164 1572.2,-164 1566.2,-164 1560.2,-158 1560.2,-152 1560.2,-152 1560.2,-116 1560.2,-116 1560.2,-110 1566.2,-104 1572.2,-104 1572.2,-104 1691.2,-104 1691.2,-104 1697.2,-104 1703.2,-110 1703.2,-116 1703.2,-116 1703.2,-152 1703.2,-152 1703.2,-158 1697.2,-164 1691.2,-164"/>
<text text-anchor="middle" x="1631.7" y="-150.4" font-family="Helvetica,sans-Serif" font-size="12.00">Build factor graph:</text>
<text text-anchor="middle" x="1631.7" y="-137.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; prior</text>
<text text-anchor="middle" x="1631.7" y="-124.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; odometry factors</text>
<text text-anchor="middle" x="1631.7" y="-111.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45; loop closure factors</text>
</g>
<!-- pg_icp&#45;&gt;pg_factors -->
<g id="edge5" class="edge">
<title>pg_icp&#45;&gt;pg_factors</title>
<path fill="none" stroke="#555555" d="M1494.78,-132.81C1512.96,-132.97 1531.92,-133.13 1549.7,-133.29"/>
<polygon fill="#555555" stroke="#555555" points="1549.99,-136.79 1560.02,-133.38 1550.05,-129.79 1549.99,-136.79"/>
</g>
<!-- pg_opt -->
<g id="node7" class="node">
<title>pg_opt</title>
<path fill="#f7f7f7" stroke="black" d="M1923.7,-152C1923.7,-152 1793.7,-152 1793.7,-152 1787.7,-152 1781.7,-146 1781.7,-140 1781.7,-140 1781.7,-128 1781.7,-128 1781.7,-122 1787.7,-116 1793.7,-116 1793.7,-116 1923.7,-116 1923.7,-116 1929.7,-116 1935.7,-122 1935.7,-128 1935.7,-128 1935.7,-140 1935.7,-140 1935.7,-146 1929.7,-152 1923.7,-152"/>
<text text-anchor="middle" x="1858.7" y="-137.4" font-family="Helvetica,sans-Serif" font-size="12.00">Optimize (GN / LM)</text>
<text text-anchor="middle" x="1858.7" y="-124.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45;&gt; corrected trajectory</text>
</g>
<!-- pg_factors&#45;&gt;pg_opt -->
<g id="edge6" class="edge">
<title>pg_factors&#45;&gt;pg_opt</title>
<path fill="none" stroke="#555555" d="M1703.27,-134C1724.84,-134 1748.81,-134 1771.31,-134"/>
<polygon fill="#555555" stroke="#555555" points="1771.53,-137.5 1781.53,-134 1771.53,-130.5 1771.53,-137.5"/>
</g>
<!-- pg_viz -->
<g id="node8" class="node">
<title>pg_viz</title>
<path fill="#f7f7f7" stroke="black" d="M2139.2,-152C2139.2,-152 2005.2,-152 2005.2,-152 1999.2,-152 1993.2,-146 1993.2,-140 1993.2,-140 1993.2,-128 1993.2,-128 1993.2,-122 1999.2,-116 2005.2,-116 2005.2,-116 2139.2,-116 2139.2,-116 2145.2,-116 2151.2,-122 2151.2,-128 2151.2,-128 2151.2,-140 2151.2,-140 2151.2,-146 2145.2,-152 2139.2,-152"/>
<text text-anchor="middle" x="2072.2" y="-137.4" font-family="Helvetica,sans-Serif" font-size="12.00">Visualize + save figures</text>
<text text-anchor="middle" x="2072.2" y="-124.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch7_slam/figs/*.svg</text>
</g>
<!-- pg_opt&#45;&gt;pg_viz -->
<g id="edge7" class="edge">
<title>pg_opt&#45;&gt;pg_viz</title>
<path fill="none" stroke="#555555" d="M1935.76,-134C1951.01,-134 1967.16,-134 1982.79,-134"/>
<polygon fill="#555555" stroke="#555555" points="1982.97,-137.5 1992.97,-134 1982.97,-130.5 1982.97,-137.5"/>
</g>
<!-- ba_obs -->
<g id="node10" class="node">
<title>ba_obs</title>
<path fill="#f7f7f7" stroke="black" d="M1235.7,-52C1235.7,-52 1059.7,-52 1059.7,-52 1053.7,-52 1047.7,-46 1047.7,-40 1047.7,-40 1047.7,-28 1047.7,-28 1047.7,-22 1053.7,-16 1059.7,-16 1059.7,-16 1235.7,-16 1235.7,-16 1241.7,-16 1247.7,-22 1247.7,-28 1247.7,-28 1247.7,-40 1247.7,-40 1247.7,-46 1241.7,-52 1235.7,-52"/>
<text text-anchor="middle" x="1147.7" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Simulate camera observations</text>
<text text-anchor="middle" x="1147.7" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">(project + noise)</text>
</g>
<!-- ba_gen&#45;&gt;ba_obs -->
<g id="edge9" class="edge">
<title>ba_gen&#45;&gt;ba_obs</title>
<path fill="none" stroke="#555555" d="M994.24,-34C1008.6,-34 1023.21,-34 1037.41,-34"/>
<polygon fill="#555555" stroke="#555555" points="1037.66,-37.5 1047.66,-34 1037.66,-30.5 1037.66,-37.5"/>
</g>
<!-- ba_init -->
<g id="node11" class="node">
<title>ba_init</title>
<path fill="#f7f7f7" stroke="black" d="M1490.2,-52C1490.2,-52 1313.2,-52 1313.2,-52 1307.2,-52 1301.2,-46 1301.2,-40 1301.2,-40 1301.2,-28 1301.2,-28 1301.2,-22 1307.2,-16 1313.2,-16 1313.2,-16 1490.2,-16 1490.2,-16 1496.2,-16 1502.2,-22 1502.2,-28 1502.2,-28 1502.2,-40 1502.2,-40 1502.2,-46 1496.2,-52 1490.2,-52"/>
<text text-anchor="middle" x="1401.7" y="-30.9" font-family="Helvetica,sans-Serif" font-size="12.00">Perturb initial poses/landmarks</text>
</g>
<!-- ba_obs&#45;&gt;ba_init -->
<g id="edge10" class="edge">
<title>ba_obs&#45;&gt;ba_init</title>
<path fill="none" stroke="#555555" d="M1247.94,-34C1262.01,-34 1276.55,-34 1290.82,-34"/>
<polygon fill="#555555" stroke="#555555" points="1291.14,-37.5 1301.14,-34 1291.14,-30.5 1291.14,-37.5"/>
</g>
<!-- ba_fg -->
<g id="node12" class="node">
<title>ba_fg</title>
<path fill="#f7f7f7" stroke="black" d="M1712.2,-52C1712.2,-52 1551.2,-52 1551.2,-52 1545.2,-52 1539.2,-46 1539.2,-40 1539.2,-40 1539.2,-28 1539.2,-28 1539.2,-22 1545.2,-16 1551.2,-16 1551.2,-16 1712.2,-16 1712.2,-16 1718.2,-16 1724.2,-22 1724.2,-28 1724.2,-28 1724.2,-40 1724.2,-40 1724.2,-46 1718.2,-52 1712.2,-52"/>
<text text-anchor="middle" x="1631.7" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Build factor graph:</text>
<text text-anchor="middle" x="1631.7" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">reprojection factors + priors</text>
</g>
<!-- ba_init&#45;&gt;ba_fg -->
<g id="edge11" class="edge">
<title>ba_init&#45;&gt;ba_fg</title>
<path fill="none" stroke="#555555" d="M1502.37,-34C1511.16,-34 1520.06,-34 1528.86,-34"/>
<polygon fill="#555555" stroke="#555555" points="1529.14,-37.5 1539.14,-34 1529.14,-30.5 1529.14,-37.5"/>
</g>
<!-- ba_opt -->
<g id="node13" class="node">
<title>ba_opt</title>
<path fill="#f7f7f7" stroke="black" d="M1944.2,-52C1944.2,-52 1773.2,-52 1773.2,-52 1767.2,-52 1761.2,-46 1761.2,-40 1761.2,-40 1761.2,-28 1761.2,-28 1761.2,-22 1767.2,-16 1773.2,-16 1773.2,-16 1944.2,-16 1944.2,-16 1950.2,-16 1956.2,-22 1956.2,-28 1956.2,-28 1956.2,-40 1956.2,-40 1956.2,-46 1950.2,-52 1944.2,-52"/>
<text text-anchor="middle" x="1858.7" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Optimize (GN / LM)</text>
<text text-anchor="middle" x="1858.7" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">&#45;&gt; refined poses + landmarks</text>
</g>
<!-- ba_fg&#45;&gt;ba_opt -->
<g id="edge12" class="edge">
<title>ba_fg&#45;&gt;ba_opt</title>
<path fill="none" stroke="#555555" d="M1724.22,-34C1733.06,-34 1742.07,-34 1751.04,-34"/>
<polygon fill="#555555" stroke="#555555" points="1751.14,-37.5 1761.14,-34 1751.14,-30.5 1751.14,-37.5"/>
</g>
<!-- ba_viz -->
<g id="node14" class="node">
<title>ba_viz</title>
<path fill="#f7f7f7" stroke="black" d="M2139.2,-52C2139.2,-52 2005.2,-52 2005.2,-52 1999.2,-52 1993.2,-46 1993.2,-40 1993.2,-40 1993.2,-28 1993.2,-28 1993.2,-22 1999.2,-16 2005.2,-16 2005.2,-16 2139.2,-16 2139.2,-16 2145.2,-16 2151.2,-22 2151.2,-28 2151.2,-28 2151.2,-40 2151.2,-40 2151.2,-46 2145.2,-52 2139.2,-52"/>
<text text-anchor="middle" x="2072.2" y="-37.4" font-family="Helvetica,sans-Serif" font-size="12.00">Visualize + save figures</text>
<text text-anchor="middle" x="2072.2" y="-24.4" font-family="Helvetica,sans-Serif" font-size="12.00">ch7_slam/figs/*.svg</text>
</g>
<!-- ba_opt&#45;&gt;ba_viz -->
<g id="edge13" class="edge">
<title>ba_opt&#45;&gt;ba_viz</title>
<path fill="none" stroke="#555555" d="M1956.48,-34C1965.31,-34 1974.23,-34 1982.98,-34"/>
<polygon fill="#555555" stroke="#555555" points="1983.17,-37.5 1993.17,-34 1983.17,-30.5 1983.17,-37.5"/>
</g>
</g>
</svg>
